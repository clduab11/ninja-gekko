version: "3.8"

services:
  frontend:
    volumes:
      - ./frontend/chat-ui/nginx.mac.conf:/etc/nginx/conf.d/default.conf
    extra_hosts:
      - "host.docker.internal:host-gateway"
    # We must overwrite the depends_on list completely to remove trading-engine
    depends_on:
      postgres:
        condition: service_healthy
      redis:
        condition: service_healthy

  prometheus:
    # Remove trading-engine dependency so it can start without the container
    depends_on: []
